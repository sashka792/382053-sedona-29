const buttonSearch=document.querySelector(".registration-button"),form=document.querySelector(".registration-form"),dateIn=form.querySelector("[name=check-in]"),dateOut=form.querySelector("[name=check-out]"),adultsNum=form.querySelector("[name=adults]"),childrenNum=form.querySelector("[name=children]");let isStorageSupport=!0,adultsStorage="",childrenStorage="";try{adultsStorage=localStorage.getItem("adults"),childrenStorage=localStorage.getItem("children")}catch(e){isStorageSupport=!1}buttonSearch.addEventListener("click",function(e){e.preventDefault(),form.classList.contains("registration-form")?(form.classList.remove("registration-form"),form.classList.remove("error"),form.classList.add("d-none")):(form.classList.remove("d-none"),form.classList.add("registration-form"),dateIn.focus())}),form.addEventListener("submit",function(e){adultsNum.value&&childrenNum.value?isStorageSupport&&(localStorage.setItem("adults",adultsNum.value),localStorage.setItem("children",childrenNum.value)):(e.preventDefault(),form.classList.remove("error"),form.offsetWidth=form.offsetWidth,form.classList.add("error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&form.classList.contains("registration-form")&&(e.preventDefault(),form.classList.remove("registration-form"),form.classList.remove("error"),form.classList.add("d-none"))});